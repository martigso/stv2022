<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <title>uke_08_tema.knit</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="uke_08_tema_files/reveal.js-3.3.0.1/css/reveal.css"/>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #232629;
    color: #7a7c7d;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #7a7c7d;  padding-left: 4px; }
div.sourceCode
  { color: #cfcfc2; background-color: #232629; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #cfcfc2; } /* Normal */
code span.al { color: #95da4c; background-color: #4d1f24; font-weight: bold; } /* Alert */
code span.an { color: #3f8058; } /* Annotation */
code span.at { color: #2980b9; } /* Attribute */
code span.bn { color: #f67400; } /* BaseN */
code span.bu { color: #7f8c8d; } /* BuiltIn */
code span.cf { color: #fdbc4b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #3daee9; } /* Char */
code span.cn { color: #27aeae; font-weight: bold; } /* Constant */
code span.co { color: #7a7c7d; } /* Comment */
code span.cv { color: #7f8c8d; } /* CommentVar */
code span.do { color: #a43340; } /* Documentation */
code span.dt { color: #2980b9; } /* DataType */
code span.dv { color: #f67400; } /* DecVal */
code span.er { color: #da4453; text-decoration: underline; } /* Error */
code span.ex { color: #0099ff; font-weight: bold; } /* Extension */
code span.fl { color: #f67400; } /* Float */
code span.fu { color: #8e44ad; } /* Function */
code span.im { color: #27ae60; } /* Import */
code span.in { color: #c45b00; } /* Information */
code span.kw { color: #cfcfc2; font-weight: bold; } /* Keyword */
code span.op { color: #cfcfc2; } /* Operator */
code span.ot { color: #27ae60; } /* Other */
code span.pp { color: #27ae60; } /* Preprocessor */
code span.re { color: #2980b9; background-color: #153042; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #da4453; } /* SpecialString */
code span.st { color: #f44f4f; } /* String */
code span.va { color: #27aeae; } /* Variable */
code span.vs { color: #da4453; } /* VerbatimString */
code span.wa { color: #da4453; } /* Warning */
</style>

<link rel="stylesheet" href="uke_08_tema_files/reveal.js-3.3.0.1/css/theme/simple.css" id="theme">


  <!-- some tweaks to reveal css -->
  <style type="text/css">
    .reveal h1 { font-size: 2.0em; }
    .reveal h2 { font-size: 1.5em;  }
    .reveal h3 { font-size: 1.25em;	}
    .reveal h4 { font-size: 1em;	}

    .reveal .slides>section,
    .reveal .slides>section>section {
      padding: 0px 0px;
    }



    .reveal table {
      border-width: 1px;
      border-spacing: 2px;
      border-style: dotted;
      border-color: gray;
      border-collapse: collapse;
      font-size: 0.7em;
    }

    .reveal table th {
      border-width: 1px;
      padding-left: 10px;
      padding-right: 25px;
      font-weight: bold;
      border-style: dotted;
      border-color: gray;
    }

    .reveal table td {
      border-width: 1px;
      padding-left: 10px;
      padding-right: 25px;
      border-style: dotted;
      border-color: gray;
    }

    .reveal .slide-menu-button {
      left: 105px !important;
    }

  </style>

    <style type="text/css">code{white-space: pre;}</style>

    <link rel="stylesheet" href="style.css"/>

<!-- Printing and PDF exports -->
<script id="paper-css" type="application/dynamic-css">

/* Default Print Stylesheet Template
   by Rob Glazebrook of CSSnewbie.com
   Last Updated: June 4, 2008

   Feel free (nay, compelled) to edit, append, and
   manipulate this file as you see fit. */


@media print {

	/* SECTION 1: Set default width, margin, float, and
	   background. This prevents elements from extending
	   beyond the edge of the printed page, and prevents
	   unnecessary background images from printing */
	html {
		background: #fff;
		width: auto;
		height: auto;
		overflow: visible;
	}
	body {
		background: #fff;
		font-size: 20pt;
		width: auto;
		height: auto;
		border: 0;
		margin: 0 5%;
		padding: 0;
		overflow: visible;
		float: none !important;
	}

	/* SECTION 2: Remove any elements not needed in print.
	   This would include navigation, ads, sidebars, etc. */
	.nestedarrow,
	.controls,
	.fork-reveal,
	.share-reveal,
	.state-background,
	.reveal .progress,
	.reveal .backgrounds {
		display: none !important;
	}

	/* SECTION 3: Set body font face, size, and color.
	   Consider using a serif font for readability. */
	body, p, td, li, div {
		font-size: 20pt!important;
		font-family: Georgia, "Times New Roman", Times, serif !important;
		color: #000;
	}

	/* SECTION 4: Set heading font face, sizes, and color.
	   Differentiate your headings from your body text.
	   Perhaps use a large sans-serif for distinction. */
	h1,h2,h3,h4,h5,h6 {
		color: #000!important;
		height: auto;
		line-height: normal;
		font-family: Georgia, "Times New Roman", Times, serif !important;
		text-shadow: 0 0 0 #000 !important;
		text-align: left;
		letter-spacing: normal;
	}
	/* Need to reduce the size of the fonts for printing */
	h1 { font-size: 28pt !important;  }
	h2 { font-size: 24pt !important; }
	h3 { font-size: 22pt !important; }
	h4 { font-size: 22pt !important; font-variant: small-caps; }
	h5 { font-size: 21pt !important; }
	h6 { font-size: 20pt !important; font-style: italic; }

	/* SECTION 5: Make hyperlinks more usable.
	   Ensure links are underlined, and consider appending
	   the URL to the end of the link for usability. */
	a:link,
	a:visited {
		color: #000 !important;
		font-weight: bold;
		text-decoration: underline;
	}
	/*
	.reveal a:link:after,
	.reveal a:visited:after {
		content: " (" attr(href) ") ";
		color: #222 !important;
		font-size: 90%;
	}
	*/


	/* SECTION 6: more reveal.js specific additions by @skypanther */
	ul, ol, div, p {
		visibility: visible;
		position: static;
		width: auto;
		height: auto;
		display: block;
		overflow: visible;
		margin: 0;
		text-align: left !important;
	}
	.reveal pre,
	.reveal table {
		margin-left: 0;
		margin-right: 0;
	}
	.reveal pre code {
		padding: 20px;
		border: 1px solid #ddd;
	}
	.reveal blockquote {
		margin: 20px 0;
	}
	.reveal .slides {
		position: static !important;
		width: auto !important;
		height: auto !important;

		left: 0 !important;
		top: 0 !important;
		margin-left: 0 !important;
		margin-top: 0 !important;
		padding: 0 !important;
		zoom: 1 !important;

		overflow: visible !important;
		display: block !important;

		text-align: left !important;
		-webkit-perspective: none;
		   -moz-perspective: none;
		    -ms-perspective: none;
		        perspective: none;

		-webkit-perspective-origin: 50% 50%;
		   -moz-perspective-origin: 50% 50%;
		    -ms-perspective-origin: 50% 50%;
		        perspective-origin: 50% 50%;
	}
	.reveal .slides section {
		visibility: visible !important;
		position: static !important;
		width: auto !important;
		height: auto !important;
		display: block !important;
		overflow: visible !important;

		left: 0 !important;
		top: 0 !important;
		margin-left: 0 !important;
		margin-top: 0 !important;
		padding: 60px 20px !important;
		z-index: auto !important;

		opacity: 1 !important;

		page-break-after: always !important;

		-webkit-transform-style: flat !important;
		   -moz-transform-style: flat !important;
		    -ms-transform-style: flat !important;
		        transform-style: flat !important;

		-webkit-transform: none !important;
		   -moz-transform: none !important;
		    -ms-transform: none !important;
		        transform: none !important;

		-webkit-transition: none !important;
		   -moz-transition: none !important;
		    -ms-transition: none !important;
		        transition: none !important;
	}
	.reveal .slides section.stack {
		padding: 0 !important;
	}
	.reveal section:last-of-type {
		page-break-after: avoid !important;
	}
	.reveal section .fragment {
		opacity: 1 !important;
		visibility: visible !important;

		-webkit-transform: none !important;
		   -moz-transform: none !important;
		    -ms-transform: none !important;
		        transform: none !important;
	}
	.reveal section img {
		display: block;
		margin: 15px 0px;
		background: rgba(255,255,255,1);
		border: 1px solid #666;
		box-shadow: none;
	}

	.reveal section small {
		font-size: 0.8em;
	}

}  
</script>


<script id="pdf-css" type="application/dynamic-css">
    
/**
 * This stylesheet is used to print reveal.js
 * presentations to PDF.
 *
 * https://github.com/hakimel/reveal.js#pdf-export
 */

* {
	-webkit-print-color-adjust: exact;
}

body {
	margin: 0 auto !important;
	border: 0;
	padding: 0;
	float: none !important;
	overflow: visible;
}

html {
	width: 100%;
	height: 100%;
	overflow: visible;
}

/* Remove any elements not needed in print. */
.nestedarrow,
.reveal .controls,
.reveal .progress,
.reveal .playback,
.reveal.overview,
.fork-reveal,
.share-reveal,
.state-background {
	display: none !important;
}

h1, h2, h3, h4, h5, h6 {
	text-shadow: 0 0 0 #000 !important;
}

.reveal pre code {
	overflow: hidden !important;
	font-family: Courier, 'Courier New', monospace !important;
}

ul, ol, div, p {
	visibility: visible;
	position: static;
	width: auto;
	height: auto;
	display: block;
	overflow: visible;
	margin: auto;
}
.reveal {
	width: auto !important;
	height: auto !important;
	overflow: hidden !important;
}
.reveal .slides {
	position: static;
	width: 100%;
	height: auto;

	left: auto;
	top: auto;
	margin: 0 !important;
	padding: 0 !important;

	overflow: visible;
	display: block;

	-webkit-perspective: none;
	   -moz-perspective: none;
	    -ms-perspective: none;
	        perspective: none;

	-webkit-perspective-origin: 50% 50%; /* there isn't a none/auto value but 50-50 is the default */
	   -moz-perspective-origin: 50% 50%;
	    -ms-perspective-origin: 50% 50%;
	        perspective-origin: 50% 50%;
}

.reveal .slides section {
	page-break-after: always !important;

	visibility: visible !important;
	position: relative !important;
	display: block !important;
	position: relative !important;

	margin: 0 !important;
	padding: 0 !important;
	box-sizing: border-box !important;
	min-height: 1px;

	opacity: 1 !important;

	-webkit-transform-style: flat !important;
	   -moz-transform-style: flat !important;
	    -ms-transform-style: flat !important;
	        transform-style: flat !important;

	-webkit-transform: none !important;
	   -moz-transform: none !important;
	    -ms-transform: none !important;
	        transform: none !important;
}

.reveal section.stack {
	margin: 0 !important;
	padding: 0 !important;
	page-break-after: avoid !important;
	height: auto !important;
	min-height: auto !important;
}

.reveal img {
	box-shadow: none;
}

.reveal .roll {
	overflow: visible;
	line-height: 1em;
}

/* Slide backgrounds are placed inside of their slide when exporting to PDF */
.reveal section .slide-background {
	display: block !important;
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	z-index: -1;
}

/* All elements should be above the slide-background */
.reveal section>* {
	position: relative;
	z-index: 1;
}

/* Display slide speaker notes when 'showNotes' is enabled */
.reveal .speaker-notes-pdf {
	display: block;
	width: 100%;
	max-height: none;
	left: auto;
	top: auto;
	z-index: 100;
}

/* Display slide numbers when 'slideNumber' is enabled */
.reveal .slide-number-pdf {
	display: block;
	position: absolute;
	font-size: 14px;
}

</script>


<script>
var style = document.createElement( 'style' );
style.type = 'text/css';
var style_script_id = window.location.search.match( /print-pdf/gi ) ? 'pdf-css' : 'paper-css';
var style_script = document.getElementById(style_script_id).text;
style.innerHTML = style_script;
document.getElementsByTagName('head')[0].appendChild(style);
</script>

    <script src="uke_08_tema_files/header-attrs-2.16/header-attrs.js"></script>
    <link href="uke_08_tema_files/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
    <link href="uke_08_tema_files/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
</head>
<body>
  <div class="reveal">
    <div class="slides">


<section class="slide level2">

<font size=12>STV2022 – Store tekstdata</font></br></br>
<p style="font-size:10;color:#42D225">
[08] Klassifisering av tekst – temamodellering
</p>
<p></br> <img data-src="uio_logo.png" style="width:50.0%" /></p>
<p>Martin Søyland <font size=6>&lt;<a
href="mailto:martin.soyland@stv.uio.no"
class="email">martin.soyland@stv.uio.no</a>&gt;</font></br></p>
</section>
<section id="disposisjon" class="title-slide slide level1">
<h1>Disposisjon</h1>
<ol type="1">
<li class="fragment">En øvelse i kategorisering</li>
<li class="fragment">Om emnemodellering</li>
<li class="fragment">Latent Dirichlet allocation (LDA)</li>
<li class="fragment">Structural Topic Models (STM)</li>
<li class="fragment">Emnemodeller i praksis
<ul>
<li class="fragment"><font style='color:#546DFB'>Climate Politics in
Hard Times</font></li>
</ul></li>
</ol>
</section>

<section id="en-øvelse-i-kategorisering"
class="title-slide slide level1">
<h1>En øvelse i kategorisering</h1>
<ul>
<li class="fragment">Bruk 2 minutter på å diskutere hvilken kategori
(emne) teksten kan klassifiseres som:</li>
</ul>
<div class="fragment">
<blockquote>
<p><font size="5">I Norge har vi mer enn nok plass, vi har folk som vil
kjøpe hus og bygge hus som har fått lån, vi har bygningsarbeidere og
entreprenører, vi har materialer og redskap. Hva er flaskehalsen? Den
eneste ting politikere og byråkrater må sørge for, nemlig tillatelse til
å bygge. Det er ikke regulert eller planlagt nok områder til
boligbygging, selv om grunneiere står i kø for å selge. Det vi har nok
av fra naturens side, nemlig plass, har politikere og byråkrater greid å
gjøre til mangelvare.</font></p>
</blockquote>
</div>
<div class="fragment">
<p><font size="4">Carl I. Hagen, FrPs landsmøte 1988</font></p>
</div>
</section>

<section>
<section id="hva-er-emnemodellering" class="title-slide slide level1">
<h1>Hva er emnemodellering</h1>
<p>Emnemodellering er <font style='color:cyan'>klassifisering</font> av
tekst </br> ________________________________________________<br> Vi
bruker <font style='color:cyan'>klassifisering</font> til alt mulig
rart! 🔎</p>
<div class="fragment">
<p><img data-src="nyt.png" style="width:50.0%" alt="nyt" /></p>
</div>
<div class="fragment">
<p><img data-src="twitch.png" style="width:50.0%" alt="twitch" /></p>
</div>
<div class="fragment">
<p><img data-src="emneord_ansatte.png" style="width:50.0%"
alt="emneord_ansatte" /></p>
</div>
</section>
<section class="slide level2">

<p>Emnemodellering bruker
<font style='color:#842948'>sameksisterende</font> ord til å estimere
emner (<em>topics</em>)</p>
<img data-src="bleifig.png" />
<div style="text-align: left">
Hentet fra: <span class="citation" data-cites="Blei2012">Blei
(2012)</span>
</div>
</section>
<section class="slide level2">

<blockquote>
<p><font size="4">I <font style='color:red'>Norge</font> har vi mer enn
nok <font style='color:red'>plass</font>, vi har folk som vil
<font style='color:blue'>kjøpe hus</font> og
<font style='color:green'>bygge hus</font> som har fått
<font style='color:blue'>lån</font>, vi har
<font style='color:green'>bygningsarbeidere</font> og
<font style='color:green'>entreprenører</font>, vi har
<font style='color:green'>materialer</font> og
<font style='color:green'>redskap</font>. Hva er flaskehalsen? Den
eneste ting <font style='color:orange'>politikere</font> og
<font style='color:orange'>byråkrater</font> må sørge for, nemlig
<font style='color:orange'>tillatelse til å bygge</font>. Det er ikke
<font style='color:orange'>regulert</font> eller
<font style='color:orange'>planlagt</font> nok
<font style='color:red'>områder</font> til
<font style='color:green'>boligbygging</font>, selv om
<font style='color:blue'>grunneiere</font> står i kø for å
<font style='color:blue'>selge</font>. Det vi har nok av fra
<font style='color:red'>naturens</font> side, nemlig
<font style='color:red'>plass</font>, har
<font style='color:orange'>politikere</font> og
<font style='color:orange'>byråkrater</font> greid å gjøre til
<font style='color:blue'>mangelvare.</font></font></p>
</blockquote>
<div class="fragment">
<table>
<colgroup>
<col style="width: 59%" />
<col style="width: 24%" />
<col style="width: 15%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Emne</th>
<th style="text-align: left;">Nøkkelord</th>
<th style="text-align: left;">Andel av tekst</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><font style='color:red'>Areal</font></td>
<td style="text-align: left;">Norge, plass, områder</td>
<td style="text-align: left;">0.06</td>
</tr>
<tr class="even">
<td style="text-align: left;"><font style='color:blue'>Økonomi og
eiendom </font></td>
<td style="text-align: left;">kjøpe, lån, mangelvare</td>
<td style="text-align: left;">0.07</td>
</tr>
<tr class="odd">
<td
style="text-align: left;"><font style='color:green'>Eiendomsutvikling</font></td>
<td style="text-align: left;">bygge, hus, redskap</td>
<td style="text-align: left;">0.07</td>
</tr>
<tr class="even">
<td style="text-align: left;"><font style='color:orange'>Politikk of
forvaltning</font></td>
<td style="text-align: left;">politikere, byråkrater</td>
<td style="text-align: left;">0.08</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Stoppord</td>
<td style="text-align: left;">har, vi, enn, som</td>
<td style="text-align: left;">0.72</td>
</tr>
</tbody>
</table>
</div>
</section></section>
<section>
<section id="latent-dirichlet-allocation-lda"
class="title-slide slide level1">
<h1>Latent Dirichlet allocation (LDA)</h1>
<ul>
<li class="fragment">LDA er den en <em>enkleste</em> emnemodellen:
<ul>
<li class="fragment">En tekst kan bestå av mange emner
(multi-membership)</li>
<li class="fragment">Emner er definert som å være en fordeling over et
satt vokabular</li>
<li class="fragment">Emnene antas å ha eksistert før data ble
generert</li>
<li class="fragment">Vi vet ikke innholdet i emnene før vi kjører
modellen (sjult struktur)</li>
</ul></li>
</ul>
<div class="fragment">
<p><img data-src="lda_formula.png" style="width:30.0%" /></p>
</div>
<div class="fragment">
<ul>
<li class="fragment">HUSK! Fokuser på å forstå det som kommer ut av
modellen og hvordan vi kan validere det!</li>
</ul>
</div>
</section>
<section id="antagelser" class="slide level2">
<h2>Antagelser</h2>
<ol type="1">
<li class="fragment"><p>Rekkefølgen på ord betyr ingenting (sekk med
ord)</p></li>
<li class="fragment"><p>Rekkefølgen på dokumentene betyr
ingenting</p></li>
<li class="fragment"><p>Vi vet antall emner og det antallet er
satt</p></li>
</ol>
</section>
<section id="fremgangsmåte" class="slide level2">
<h2>Fremgangsmåte</h2>
<p><img data-src="iteration.png" style="width:30.0%" /></p>
<ul>
<li class="fragment">Vi starter med noe og oppdaterer (iterasjoner) til
bra endringer forsvinner</li>
</ul>
</section>
<section id="hvordan-velge-antall-emner" class="slide level2">
<h2>Hvordan velge antall emner?</h2>
<ol type="1">
<li class="fragment">Prøv noe</li>
<li class="fragment">Validere</li>
<li class="fragment">Prøv igjen</li>
<li class="fragment">Validere</li>
<li class="fragment">…</li>
</ol>
</section></section>
<section>
<section id="structural-topic-models" class="title-slide slide level1">
<h1>Structural Topic Models</h1>
<ul>
<li class="fragment">Veldig lik LDA bortsett fra:
<ol type="1">
<li class="fragment">“Prevalence” parameteret
<ul>
<li class="fragment">ca som uavhengige variabler i en regresjon</li>
</ul></li>
<li class="fragment">“Spectral” initialisering
<ul>
<li class="fragment">bedre på store corpus</li>
<li class="fragment">kan finne antall topics for deg</li>
</ul></li>
</ol></li>
</ul>
</section>
<section class="slide level2">

<p>🚨 🚨 🚨</p>
<blockquote>
<p>When init.type=‘Spectral’ and K=0 the number of topics is set […]
this does not estimate the ‘true’ number of topics and does not
necessarily have any particular statistical properties for consistently
estimating the number of topics. It can however provide a useful
starting point.</p>
</blockquote>
<p>🚨 🚨 🚨</p>
</section></section>
<section>
<section id="emnemodeller-i-praksis" class="title-slide slide level1">
<h1>Emnemodeller i praksis</h1>
<p style="font-size:36;color:#546DFB">
Climate Politics in Hard Times
</p>
<p><img data-src="oil_price.png" style="width:80.0%" /></p>
</section>
<section class="slide level2">

<p><font style='color:#4641DF'>Metadata</font></p>
<pre><code>## # A tibble: 4 × 3
##   id         rep_id text                                                        
##   &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;                                                       
## 1 tale211684 LIC    Det er viktig at vi får unnagjort en del store saker i begy…
## 2 tale211693 KAAN   På vegne av representantene Audun Lysbakken, Snorre Serigst…
## 3 tale211703 TROH   Jeg har den glede å foreslå Bjørn Lødemel istedenfor Elisab…
## 4 tale211705 HTN    Fremskrittspartiet ønsker å fremme forslag om at Oskar J. G…</code></pre>
<div class="fragment">
<p>==================================</p>
<p><font style='color:#5641DF'>DFM</font></p>
<pre><code>## Document-feature matrix of: 4 documents, 4 features (87.50% sparse) and 0 docvars.
##             features
## docs         fremme:verb fremme:verb forslag:subst fri:adj frist:subst
##   tale211684           0                         0       0           0
##   tale211693           0                         0       0           0
##   tale211703           0                         0       0           0
##   tale211705           1                         1       0           0</code></pre>
</div>
</section>
<section id="estimere-lda" class="slide level2">
<h2>Estimere LDA</h2>
<div class="sourceCode" id="cb3"><pre
class="sourceCode r code-bg"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Estimerer LDA emnemodel med 20 emner </span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>oil_lda <span class="ot">&lt;-</span> <span class="fu">stm</span>(lemma_counts, </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">K =</span> <span class="dv">20</span>, </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">data =</span> meta, </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">init.type =</span> <span class="st">&quot;LDA&quot;</span>, </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">max.em.its =</span> <span class="dv">50</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># OBS: &quot;max.em.its&quot; Skal være mye høyere, men det tar lang tid å kjøre</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Bruk &quot;default value&quot; fra ?stm</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(oil_lda, <span class="at">file =</span> <span class="st">&quot;./data/oil_lda.rda&quot;</span>)</span></code></pre></div>
<div class="fragment">
<div class="sourceCode" id="cb4"><pre
class="sourceCode txt"><code class="sourceCode default"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>....................................................................................................</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>Completed E-Step (6 seconds). </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>Completed M-Step. </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>Completing Iteration 38 (approx. per word bound = -7.825, relative change = 1.931e-04) </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>....................................................................................................</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>Completed E-Step (6 seconds). </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>Completed M-Step. </span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>Completing Iteration 39 (approx. per word bound = -7.823, relative change = 1.845e-04) </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>....................................................................................................</span></code></pre></div>
</div>
</section>
<section id="lda-resultater" class="slide level2">
<h2>LDA-resultater</h2>
<h3 id="viktigste-emner">Viktigste emner</h3>
<div class="fragment">
<div class="sourceCode" id="cb5"><pre
class="sourceCode r code-bg"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ?plot.STM</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(oil_lda, <span class="at">labeltype =</span> <span class="st">&quot;frex&quot;</span>)</span></code></pre></div>
<p><img src="uke_08_tema_files/figure-revealjs/check_LDA-1.png" width="960" /></p>
</div>
</section>
<section class="slide level2">

<h3 id="viktigste-ord">Viktigste ord</h3>
<div class="sourceCode" id="cb6"><pre
class="sourceCode r code-bg"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>top_ord <span class="ot">&lt;-</span> <span class="fu">labelTopics</span>(oil_lda, <span class="at">n =</span> <span class="dv">2</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>top_ord</span></code></pre></div>
<pre><code>## Topic 1 Top Words:
##       Highest Prob: statsråd:subst, veldig:adj 
##       FREX: statsråd:subst, veldig:adj glad:adj 
##       Lift: utfordre:verb statsråd:subst, tenke:verb statsråd:subst 
##       Score: statsråd:subst, veldig:adj 
## Topic 2 Top Words:
##       Highest Prob: rundt:prep, diskusjon:subst 
##       FREX: faktum:subst, diskusjon:subst 
##       Lift: journalistikk:subst, produksjonsstøtte:subst 
##       Score: diskusjon:subst, rundt:prep 
## Topic 3 Top Words:
##       Highest Prob: arbeidsliv:subst, folk:subst 
##       FREX: arbeidstaker:subst, dumping:subst 
##       Lift: fleksibel:adj arbeidsliv:subst, fot:subst innenfor:prep 
##       Score: arbeidsliv:subst, arbeidstaker:subst 
## Topic 4 Top Words:
##       Highest Prob: prosjekt:subst, ny:adj 
##       FREX: transportplan:subst, stor:adj by:subst 
##       Lift: e39:subst, kollektivtiltak:subst 
##       Score: utbygging:subst, prosjekt:subst 
## Topic 5 Top Words:
##       Highest Prob: hel:adj, mene:verb 
##       FREX: ene:det, selvfølgelig:adj 
##       Lift: to:det hel:adj, bred:adj mulig:adj 
##       Score: hel:adj, egentlig:adj 
## Topic 6 Top Words:
##       Highest Prob: skole:subst, kommune:subst 
##       FREX: psykisk:adj, helsetjeneste:subst 
##       Lift: alvorlig:adj syke:subst, behandlingsplass:subst 
##       Score: pasient:subst, skole:subst 
## Topic 7 Top Words:
##       Highest Prob: norge:subst, mål:subst 
##       FREX: klimapolitikk:subst, fossil:adj 
##       Lift: global:adj oppvarming:subst, klimagass:subst 
##       Score: utslipp:subst, klimaforlik:subst 
## Topic 8 Top Words:
##       Highest Prob: se:verb, vei:subst 
##       FREX: vei:subst, helhetlig:adj 
##       Lift: mulig:adj vei:subst, hastighet:subst 
##       Score: vei:subst, se:verb 
## Topic 9 Top Words:
##       Highest Prob: komite:subst, sak:subst 
##       FREX: saksordfører:subst, enstemmig:adj 
##       Lift: komite:subst merke:verb, enstemmig:adj komité:subst 
##       Score: komite:subst, saksordfører:subst 
## Topic 10 Top Words:
##       Highest Prob: vilje:verb, frå:prep 
##       FREX: vilje:verb, frå:prep 
##       Lift: auke:adj, heil:adj land:subst 
##       Score: vilje:verb, seie:verb 
## Topic 11 Top Words:
##       Highest Prob: internasjonal:adj, norge:subst 
##       FREX: menneskerettighet:subst, utenriksminister:subst 
##       Lift: nordisk:subst råd:subst, frihandelsavtale:subst 
##       Score: utenriksminister:subst, internasjonal:adj 
## Topic 12 Top Words:
##       Highest Prob: grad:subst, kunnskap:subst 
##       FREX: utføre:verb, praktisk:adj 
##       Lift: innsamling:subst, god:adj ledelse:subst 
##       Score: høy:adj, kunnskap:subst 
## Topic 13 Top Words:
##       Highest Prob: politisk:adj, lov:subst 
##       FREX: folkevalgt:adj, styring:subst 
##       Lift: styrke:verb lokaldemokrati:subst, folkevalgt:adj nivå:subst 
##       Score: folkevalgt:adj, innbygger:subst 
## Topic 14 Top Words:
##       Highest Prob: budsjett:subst, kr:subst 
##       FREX: skattekutt:subst, mye:adj penge:subst 
##       Lift: 1 000:det kr:subst, beholde:verb mye:adj 
##       Score: kr:subst, budsjett:subst 
## Topic 15 Top Words:
##       Highest Prob: representant:subst, få:verb 
##       FREX: minister:subst, grande:subst 
##       Lift: signe:subst, liv:subst signe:subst 
##       Score: representant:subst, spørsmål:subst 
## Topic 16 Top Words:
##       Highest Prob: representant:subst, høre:verb 
##       FREX: høre:verb, spørre:verb 
##       Lift: eidem:subst, eidem:subst løvaas:subst 
##       Score: høre:verb, synes:verb 
## Topic 17 Top Words:
##       Highest Prob: land:subst, menneske:subst 
##       FREX: flyktning:subst, ta:verb imot:prep 
##       Lift: syrisk:adj flyktning:subst, norsk:adj forskning:subst 
##       Score: verden:subst, utdanning:subst 
## Topic 18 Top Words:
##       Highest Prob: barn:subst, liv:subst 
##       FREX: fengsel:subst, kriminell:adj 
##       Lift: soning:subst, voldtekt:subst 
##       Score: barn:subst, politi:subst 
## Topic 19 Top Words:
##       Highest Prob: næringsliv:subst, norsk:adj 
##       FREX: konkurransekraft:subst, matproduksjon:subst 
##       Lift: maritim:adj sektor:subst, selvforsyning:subst 
##       Score: næring:subst, verdiskaping:subst 
## Topic 20 Top Words:
##       Highest Prob: forslag:subst, folkeparti:subst 
##       FREX: kristelig:subst folkeparti:subst, kristelig:subst 
##       Lift: på vegne av:prep representant:subst, stemmeforklaring:subst 
##       Score: kristelig:subst folkeparti:subst, kristelig:subst</code></pre>
</section>
<section class="slide level2">

<h3 id="søke-etter-ord-i-emner">Søke etter ord i emner</h3>
<div class="sourceCode" id="cb8"><pre
class="sourceCode r code-bg"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">findTopic</span>(oil_lda, <span class="st">&quot;utslipp:subst&quot;</span>, <span class="at">type =</span> <span class="st">&quot;frex&quot;</span>)</span></code></pre></div>
<pre><code>## 1 topics contained 1 words in the list: 7</code></pre>
<div class="sourceCode" id="cb10"><pre
class="sourceCode r code-bg"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">labelTopics</span>(oil_lda, <span class="at">topics =</span> <span class="dv">7</span>, <span class="at">n =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## Topic 7 Top Words:
##       Highest Prob: norge:subst, mål:subst, klima:subst, utslipp:subst, grønn:adj 
##       FREX: klimapolitikk:subst, fossil:adj, utslipp:subst, klimaforlik:subst, tonn:subst 
##       Lift: global:adj oppvarming:subst, klimagass:subst, klimaminister:subst, elektrifisere:verb, elektrifisering:subst utsirahøyden:subst 
##       Score: utslipp:subst, klimaforlik:subst, klimapolitikk:subst, fornybar:adj, fornybar:adj energi:subst</code></pre>
</section>
<section class="slide level2">

<h3 id="lese-topptekster-i-emner">Lese topptekster i emner</h3>
<div class="sourceCode" id="cb12"><pre
class="sourceCode r code-bg"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">findThoughts</span>(oil_lda, <span class="at">texts =</span> meta<span class="sc">$</span>text, <span class="at">topics =</span> <span class="dv">7</span>)</span></code></pre></div>
<pre><code>## 
##  Topic 7: 
##       Først vil jeg selvfølgelig trekke fram Lofoten, Vesterålen og Senja og også det andre området hvor det nå ikke blir petroleumsaktivitet, som har vært et stort stridstema over lang tid, og der man nå har fått en avklaring. Ellers vil jeg holde fast ved at det er et godt anslag for en ny og mer offensiv klimapolitikk, og spesielt legge til at her er det en økning i det grønne skatteskiftet. Men det er et anslag. Det er helt klart at det er helt avgjørende for å få en bedre klimapolitikk at tiltakene må stå i forhold til de oppgavene vi skal utføre. Når det gjelder klimaforliket, er det slik at vi skal redusere norske klimagassutslipp med 5 millioner tonn fram mot 2020. Dette krever en helt annen vilje ikke bare til å komme med tiltak, men måle resultatene av dem, slik at vi når det nødvendige målet som nå ligger der. Vi skal også forsterke klimaforliket.
##      Jeg er glad for svaret og er enig i at vi må ha ambisiøse mål. Her er det mye politikk som må utvikles i årene framover, og det må være stor vilje over mange år. Samtidig: Det vi nå er inne i, er en innmelding til FN i forkant av forhandlingene som skal være i Paris i november. Ved å slutte oss til EUs klimarammeverk sikrer vi at den målsettingen vi nå melder inn, også vil bli gjennomført. Det kan resten av verden være trygg på. Samtidig må vi forvente at det blir krevende forhandlinger, og i tillegg til egne kutt har Norge et sterkt engasjement internasjonalt for å redusere utslipp, enten det gjelder skogsatsing, satsing på fornybar energi eller kjøp av klimakvoter internasjonalt, såkalte CDM-er. Når vi nå skal forhandle, vil våre ytterligere forpliktelser komme i tillegg til de 40 pst. som vi er enige med EU om å kutte. Da blir spørsmålet: Er statsministeren, som Venstre, villig til å forplikte Norge til klimamål utover de 40 pst. vi nå melder inn, selv om disse ikke kan motregnes mot norske kutt?
##      Når det gjelder FNs klimakvoter, er det en egen diskusjon hvor de fleste vil være enige om at deres klimaeffekt er meget lav. I dette tilfellet snakker vi om kvoter fra EUs kvotemarked, og vi snakker om det faktum at klimatiltak handler om å kutte mengde CO2, tonn CO2 – ikke prosenter og kvoter. I henhold til det norske klimaforliket skal kutt av 12 millioner tonn norske klimagassutslipp dekkes opp gjennom kvotekjøp. Vi vet at kvotemarkedet – som statsråden selv påpeker – fungerer meget dårlig på grunn av lave priser. Spørsmålet er: Vil statsråden bidra til at man i mindre grad bruker et ikke-fungerende kvotemarked som virkemiddel i norsk klimapolitikk til faktisk å kutte utslipp, og i større grad ta utslippskutt her i Norge?</code></pre>
</section></section>
<section>
<section id="structural-topic-model-stm"
class="title-slide slide level1">
<h1>Structural Topic Model (stm)</h1>
<p></br></br></p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode r code-bg"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### STM with satt antall emner</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>oil_stm <span class="ot">&lt;-</span> <span class="fu">stm</span>(lemma_counts, </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">K =</span> <span class="dv">20</span>, </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">prevalence =</span> <span class="sc">~</span> <span class="fu">factor</span>(party_id), </span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">data =</span> meta, </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">init.type =</span> <span class="st">&quot;Spectral&quot;</span>, </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">max.em.its =</span> <span class="dv">50</span>)</span></code></pre></div>
</section>
<section id="stm-resultater" class="slide level2">
<h2>STM-resultater</h2>
<h3 id="viktigste-emner-1">Viktigste emner</h3>
<div class="fragment">
<div class="sourceCode" id="cb15"><pre
class="sourceCode r code-bg"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(oil_stm, <span class="at">labeltype =</span> <span class="st">&quot;frex&quot;</span>)</span></code></pre></div>
<p><img src="uke_08_tema_files/figure-revealjs/STM_setK_check2-1.png" width="960" /></p>
</div>
</section>
<section class="slide level2">

<p>😠 <font style='color:#987654;font-size:40'>Hva er emne 10???</font>
😠</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode r code-bg"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">labelTopics</span>(oil_stm, <span class="at">n =</span> <span class="dv">30</span>)<span class="sc">$</span>frex[<span class="dv">10</span>, ]</span></code></pre></div>
<pre><code>##  [1] &quot;tro:verb&quot;               &quot;synes:verb&quot;             &quot;i hvert fall:adv&quot;      
##  [4] &quot;egentlig:adj&quot;           &quot;veldig:adj&quot;             &quot;ganske:adv&quot;            
##  [7] &quot;diskutere:verb&quot;         &quot;kanskje:adv&quot;            &quot;ting:subst&quot;            
## [10] &quot;lyst:subst&quot;             &quot;ene:det&quot;                &quot;veldig:adj mye:adj&quot;    
## [13] &quot;veldig:adj god:adj&quot;     &quot;litt:adj&quot;               &quot;selvfølgelig:adj&quot;      
## [16] &quot;hel:adj enig:adj&quot;       &quot;veldig:adj tydelig:adj&quot; &quot;veldig:adj glad:adj&quot;   
## [19] &quot;faktisk:adj&quot;            &quot;veldig:adj bra:adj&quot;     &quot;hel:adj riktig:adj&quot;    
## [22] &quot;utrolig:adj&quot;            &quot;hel:adj sikker:adj&quot;     &quot;hel:adj ta:verb&quot;       
## [25] &quot;få:verb lov:subst&quot;      &quot;akkurat:adv&quot;            &quot;nødt:adj&quot;              
## [28] &quot;veldig:adj viktig:adj&quot;  &quot;sikker:adj&quot;             &quot;tenke:verb&quot;</code></pre>
</section>
<section class="slide level2">

<h3 id="partiforskjeller-i-klimaemne">Partiforskjeller i klimaemne</h3>
<div class="sourceCode" id="cb18"><pre
class="sourceCode r code-bg"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Lager plot av forventet emneandel på et tilfeldig innlegg fra hvert parti</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>oil_eff <span class="ot">&lt;-</span> <span class="fu">estimateEffect</span>(<span class="sc">~</span> <span class="fu">factor</span>(party_id), oil_stm, <span class="at">metadata =</span> meta)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="do">## plot(oil_eff, covariate = &quot;party_id&quot;, topics = 11)</span></span></code></pre></div>
<div class="fragment">
<p><img src="uke_08_tema_files/figure-revealjs/unnamed-chunk-6-1.png" width="960" /></p>
</div>
</section></section>
<section>
<section id="stm-med-optimal-k" class="title-slide slide level1">
<h1>STM med “optimal” K</h1>
<div class="sourceCode" id="cb19"><pre
class="sourceCode r code-bg"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>oil_stm_optimal <span class="ot">&lt;-</span> <span class="fu">stm</span>(lemma_counts, </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">K =</span> <span class="dv">0</span>, </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">prevalence =</span> <span class="sc">~</span> <span class="fu">factor</span>(party_id), </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">data =</span> meta, </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">init.type =</span> <span class="st">&quot;Spectral&quot;</span>, </span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>                       <span class="at">max.em.its =</span> <span class="dv">50</span>)</span></code></pre></div>
</section>
<section class="slide level2">

<h3 id="evaluerer-optimal-stm">Evaluerer “optimal” STM</h3>
<div class="fragment">
<div class="sourceCode" id="cb20"><pre
class="sourceCode r code-bg"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sjekke antall topics</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>oil_stm_optimal<span class="sc">$</span>settings<span class="sc">$</span>dim<span class="sc">$</span>K</span></code></pre></div>
<pre><code>## [1] 98</code></pre>
</div>
<div class="fragment">
<div class="sourceCode" id="cb22"><pre
class="sourceCode r code-bg"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>klima <span class="ot">&lt;-</span> <span class="fu">findTopic</span>(oil_stm_optimal, </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">list =</span> <span class="fu">c</span>(<span class="st">&quot;klima:subst&quot;</span>), </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">type =</span> <span class="st">&quot;frex&quot;</span>, </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">n =</span> <span class="dv">50</span>)</span></code></pre></div>
<pre><code>## 2 topics contained 1 words in the list: 49, 77</code></pre>
</div>
</section>
<section class="slide level2">

<div class="sourceCode" id="cb24"><pre
class="sourceCode r code-bg"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">labelTopics</span>(oil_stm_optimal, <span class="at">n =</span> <span class="dv">5</span>,</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">topics =</span> klima)<span class="sc">$</span>frex[klima, ] <span class="sc">%&gt;%</span> </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t</span>() <span class="co"># (Denne er bare for å få mer forståelig output)</span></span></code></pre></div>
<pre><code>##      [,1]                     [,2]                      
## [1,] &quot;grønn:adj&quot;              &quot;klimamål:subst&quot;          
## [2,] &quot;skifte:subst&quot;           &quot;klimaforlik:subst&quot;       
## [3,] &quot;grønn:adj skifte:subst&quot; &quot;klimapolitikk:subst&quot;     
## [4,] &quot;elbil:subst&quot;            &quot;2030:det&quot;                
## [5,] &quot;miljøvennlig:adj&quot;       &quot;million:subst tonn:subst&quot;</code></pre>
</section>
<section class="slide level2">

<div class="sourceCode" id="cb26"><pre
class="sourceCode r code-bg"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Lager plot av forventet emneandel på et tilfeldig innlegg fra hvert parti</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>oil_eff <span class="ot">&lt;-</span> <span class="fu">estimateEffect</span>(<span class="sc">~</span> <span class="fu">factor</span>(party_id), oil_stm_optimal, <span class="at">metadata =</span> meta)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="do">## plot(oil_eff, covariate = &quot;party_id&quot;, topics = klima)</span></span></code></pre></div>
<p><img src="uke_08_tema_files/figure-revealjs/unnamed-chunk-8-1.png" width="960" /></p>
</section></section>
<section>
<section id="statistisk-validering-av-stm"
class="title-slide slide level1">
<h1>Statistisk validering av STM</h1>
<div class="fragment">
<ul>
<li class="fragment">Semantisk tolkbare emner kjennetegnes av:
<ol type="1">
<li class="fragment">Det er sammenhengende; ordene med høy sannsynlighet
i et emne opptrer sammen innad i dokumenter
<ul>
<li class="fragment">Maksismeres når de mest sannsynlige ordene dukker
opp sammen</li>
</ul></li>
<li class="fragment">Det er eksklusivt; de høyest ladende ordene i et
emne, vil ikke være toppord i andre emner
<ul>
<li class="fragment">Maksimeres når ord bare tilhører ett emne</li>
</ul></li>
</ol></li>
</ul>
</div>
<div class="fragment">
<p><font style='color:#8421DF'><em>Selv om disse målene er effektive og
tolkbare, kan de ikke erstatte mennesklig tolkning!</em></font></p>
</div>
</section>
<section class="slide level2">

<div class="sourceCode" id="cb27"><pre
class="sourceCode r code-bg"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>stm_counts <span class="ot">&lt;-</span> <span class="fu">convert</span>(lemma_counts, <span class="st">&quot;stm&quot;</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>oil_sem_coh <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">sem_coh =</span> <span class="fu">semanticCoherence</span>(<span class="at">model =</span> oil_stm_optimal, <span class="at">documents =</span> stm_counts<span class="sc">$</span>documents),</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">exclu =</span> <span class="fu">exclusivity</span>(oil_stm_optimal),</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">emne =</span> <span class="fu">str_c</span>(<span class="st">&quot;Emne: &quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">98</span>)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="uke_08_tema_files/figure-revealjs/excl_semCoher-1.png" width="768" /></p>
</section>
<section id="søk-etter-k" class="slide level2">
<h2>Søk etter K</h2>
<ul>
<li class="fragment"><code>searchK()</code> kan vise oss (statistisk)
hvordan STM ser ut med forskjellig antall <code>K</code></li>
</ul>
<div class="sourceCode" id="cb28"><pre
class="sourceCode r code-bg"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>K <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">30</span>, <span class="dv">50</span>, <span class="dv">70</span>, <span class="dv">100</span>, <span class="dv">150</span>, <span class="dv">200</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4685</span>)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>k_results <span class="ot">&lt;-</span> <span class="fu">searchK</span>(<span class="at">documents =</span> stm_counts<span class="sc">$</span>documents,</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">vocab =</span> stm_counts<span class="sc">$</span>vocab, <span class="at">K =</span> K,</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">data =</span> stm_counts<span class="sc">$</span>meta)</span></code></pre></div>
</section>
<section class="slide level2">

<div class="sourceCode" id="cb29"><pre
class="sourceCode r code-bg"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(k_results)</span></code></pre></div>
<p><img src="uke_08_tema_files/figure-revealjs/plotsearchK-1.png" width="768" /></p>
</section>
<section class="slide level2">

<p><img src="uke_08_tema_files/figure-revealjs/plotsearchK2-1.png" width="768" /></p>
</section>
<section id="hva-med-eksempelet-fra-starten" class="slide level2">
<h2>Hva med eksempelet fra starten?</h2>
<pre><code>## .</code></pre>
<pre><code>##  Emne: 6 Emne: 18 Emne: 59 Emne: 47  Emne: 1 
##    0.446    0.157    0.145    0.071    0.025</code></pre>
<pre><code>## Topic 6 Top Words:
##       Highest Prob: kr:subst, per:prep, kostnad:subst, mens:sbu 
##       FREX: per:prep, årlig:adj, kr:subst per:prep, 7:det 
##       Lift: kr:subst per:prep, per:prep år:subst, kr:subst årlig:adj, 7:det kr:subst 
##       Score: kr:subst, kr:subst per:prep, årlig:adj, per:prep 
## Topic 18 Top Words:
##       Highest Prob: kr:subst, budsjett:subst, bevilgning:subst, middel:subst 
##       FREX: bevilgning:subst, 10:det kr:subst, kulturliv:subst, bevilge:verb 
##       Lift: kulturliv:subst, kulturløftet:subst, spaserstokk:subst, kulturell:adj spaserstokk:subst 
##       Score: kr:subst, bevilgning:subst, 10:det kr:subst, bevilge:verb 
## Topic 59 Top Words:
##       Highest Prob: politi:subst, justisminister:subst, vold:subst, overgrep:subst 
##       FREX: barnehus:subst, nær:adj relasjon:subst, overgrep:subst, vold:subst 
##       Lift: gjerningsperson:subst, barnehus:subst, dommeravhør:subst, justisbudsjett:subst 
##       Score: barnehus:subst, vold:subst, nær:adj relasjon:subst, politi:subst 
## Topic 47 Top Words:
##       Highest Prob: kr:fork, budsjett:subst, auke:verb, regjering:subst 
##       FREX: kr:fork, løyving:subst, auke:verb, kr:fork mye:adj 
##       Lift: kr:fork mye:adj, 1:det kr:fork, tryggje:verb, 10:det kr:fork 
##       Score: kr:fork, auke:verb, frå:prep, vilje:verb 
## Topic 1 Top Words:
##       Highest Prob: psykisk:adj, helse:subst, ung:adj, tiltak:subst 
##       FREX: skolehelsetjeneste:subst, helsestasjon:subst, psykisk:adj, psykisk:adj helse:subst 
##       Lift: lavterskeltilbud:subst, psykisk:adj problem:subst, psykisk:adj plage:subst, alvorlig:adj psykisk:adj 
##       Score: psykisk:adj, skolehelsetjeneste:subst, psykisk:adj helse:subst, helsestasjon:subst</code></pre>
</section></section>
<section id="referanser" class="title-slide slide level1 unnumbered">
<h1 class="unnumbered">Referanser</h1>
<div id="refs" class="references csl-bib-body hanging-indent"
role="doc-bibliography">
<div id="ref-Blei2012" class="csl-entry" role="doc-biblioentry">
Blei, David M. 2012. <span>“<span>P</span>robabilistic
<span>T</span>opic <span>M</span>odels.”</span> <em>Communications of
the ACM</em> 55(4): 77–84.
</div>
</div>
</section>
    </div>
  </div>

  <script src="uke_08_tema_files/reveal.js-3.3.0.1/lib/js/head.min.js"></script>
  <script src="uke_08_tema_files/reveal.js-3.3.0.1/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Display controls in the bottom right corner
        controls: true,
        // Display a presentation progress bar
        progress: true,
        // Display the page number of the current slide
        slideNumber: true,
        // Push each slide change to the browser history
        history: true,
        // Enable keyboard shortcuts for navigation
        keyboard: true,
        // Enable the slide overview mode
        overview: true,
        // Vertical centering of slides
        center: false,
        // Enables touch navigation on devices with touch input
        touch: true,
        // Turns fragments on and off globally
        fragments: true,
        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,
        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,
        // Stop auto-sliding after user input
        autoSlideStoppable: true,
        // Transition style
        transition: 'convex', // none/fade/slide/convex/concave/zoom
        // Transition speed
        transitionSpeed: 'default', // default/fast/slow
        // Transition style for full page slide backgrounds
        backgroundTransition: 'default', // none/fade/slide/convex/concave/zoom
        // Number of slides away from the current that are visible
        viewDistance: 3,
        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1080,

        menu: {
   
    
    
    
    
    
    
 
          custom: false,
          themes: false,
          transitions: false
        },



        chalkboard: {
        },

        keyboard: {
          67: function() { RevealChalkboard.toggleNotesCanvas() },    // toggle notes canvas when 'c' is pressed
          66: function() { RevealChalkboard.toggleChalkboard() }, // toggle chalkboard when 'b' is pressed
          46: function() { RevealChalkboard.clear() },    // clear chalkboard when 'DEL' is pressed
           8: function() { RevealChalkboard.reset() },    // reset chalkboard data on current slide when 'BACKSPACE' is pressed
          68: function() { RevealChalkboard.download() }, // downlad recorded chalkboard drawing when 'd' is pressed
        },

        // Optional reveal.js plugins
        dependencies: [
          { src: 'uke_08_tema_files/reveal.js-3.3.0.1/plugin/notes/notes.js', async: true },
          { src: 'uke_08_tema_files/reveal.js-3.3.0.1/plugin/zoom-js/zoom.js', async: true },
          { src: 'uke_08_tema_files/reveal.js-3.3.0.1/plugin/chalkboard/chalkboard.js', async: true },
          { src: 'uke_08_tema_files/reveal.js-3.3.0.1/plugin/menu/menu.js', async: true },
        ]
      });
    </script>
  <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
      document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>

<script>
  (function() {
    if (window.jQuery) {
      Reveal.addEventListener( 'slidechanged', function(event) {  
        window.jQuery(event.previousSlide).trigger('hidden');
        window.jQuery(event.currentSlide).trigger('shown');
      });
    }
  })();
</script>


  </body>
</html>
